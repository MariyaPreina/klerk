<template>
    <div :class="[$style.SubscriptionsPage, 'container']">
        <BreadCrumbs :links="breadCrumbs" />
        <h1 :class="$style.title">–ü–æ–¥–ø–∏—Å–∫–∏ ¬´–ö–ª–µ—Ä–∫–∞¬ª</h1>
        <SubscriptionsTabs
            :tabs="navTabs"
            @onClick="handleNavClick"
            :active-tab="activeTab" />
        <div :class="$style.content">
            <SubscriptionsMailing
                v-if="activeTab === 'mailing'"
                :key="activeTab"
                :cards="mailSubscriptions"
                :subscribe-all="subscribeAll"
                @cardInput="handleChangeCardSwitch"
                @subscribeSwitch="handleChangeSubscribeSwitch" />
            <SubscriptionsSocials
                v-else-if="activeTab === 'socials'"
                :key="activeTab"
                :cards="socials"
                :type="activeTab" />
            <SubscriptionsSocials
                v-else-if="activeTab === 'messengers'"
                :key="activeTab"
                :cards="messengers"
                :type="activeTab" />
        </div>
    </div>
</template>

<script>
import BreadCrumbs from '@/components/common/BreadCrumbs';
import SubscriptionsTabs from '@/components/pages/subscriptions/SubscriptionsTabs';
import SubscriptionsMailing from '@/components/pages/subscriptions/SubscriptionsMailing';
import SubscriptionsSocials from '@/components/pages/subscriptions/SubscriptionsSocials';

export default {
    name: 'SubscriptionsPage',

    components: {
        BreadCrumbs,
        SubscriptionsTabs,
        SubscriptionsMailing,
        SubscriptionsSocials,
    },

    data() {
        return {
            activeTab: 'mailing',
            subscribeAll: false,
            breadCrumbs: [
                {
                    name: '–ì–ª–∞–≤–Ω–∞—è',
                    link: '',
                },
                {
                    name: '–†–∞—Å—Å—ã–ª–∫–∏',
                    link: '',
                },
                {
                    name: '–•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏',
                    link: '',
                },
            ],

            navTabs: [
                {
                    name: '–†–∞—Å—Å—ã–ª–∫–∏',
                    value: 'mailing',
                },
                {
                    name: '–°–æ—Ü—Å–µ—Ç–∏',
                    value: 'socials',
                },
                {
                    name: '–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã',
                    value: 'messengers',
                },
            ],

            mailSubscriptions: [
                {
                    title: '–£—Ç—Ä–µ–Ω–Ω–∏–π –±—É—Ö–≥–∞–ª—Ç–µ—Ä',
                    subtitle: '–ü–µ—Ä–µ–¥ —Ä–∞—Å—Å–≤–µ—Ç–æ–º',
                    text: '–°–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏ —Å–æ–±—ã—Ç–∏—è –∑–∞ –¥–µ–Ω—å. –ö—Ä–∞—Ç–∫–æ, –ø–æ –¥–µ–ª—É, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–æ.',
                    points: [
                        '–ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä–æ–≤, –ò–ü –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞',
                        '–ü–æ–¥–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç–µ–π –∑–∞ –¥–µ–Ω—å',
                    ],
                    subscribersCount: 59342,
                    image: require('@/assets/images/card1.png'),
                    subscribe: false,
                },
                {
                    title: '–ù–æ—á–Ω–æ–π –±—É—Ö–≥–∞–ª—Ç–µ—Ä',
                    subtitle: '–ü–æ—Å–ª–µ –∑–∞–∫–∞—Ç–∞',
                    text: '–°–∞–º–∞—è –∫—Ä–∞—Ç–∫–∞—è –≥–∞–∑–µ—Ç–∞ –æ –Ω–∞–ª–æ–≥–∞—Ö –∏ –±—É—Ö—É—á–µ—Ç–µ –≤ –º–∏—Ä–µ ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è.',
                    points: [
                        '–ê–Ω–∞–ª–∏–∑, –æ—Ü–µ–Ω–∫–∞ –∏ —Ç–æ–ª—å–∫–æ —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ',
                        '–õ—É—á—à–∏–µ –∫–æ–º–º–µ–Ω—Ç—ã —é–∑–µ—Ä–æ–≤ –≤ –æ–±–∑–æ—Ä–µ',
                    ],
                    subscribersCount: 37480,
                    image: require('@/assets/images/card2.png'),
                    subscribe: false,
                },
                {
                    title: '–ù–æ–∂–Ω–∏—Ü—ã —Å–∫–∏–¥–æ–∫',
                    subtitle: '–†–∞–∑ –≤ –¥–≤–µ –Ω–µ–¥–µ–ª–∏',
                    text: '–ü–æ–¥–±–æ—Ä–∫–∞ —Å–∞–º—ã—Ö –≤—ã–≥–æ–¥–Ω—ã—Ö –∏ –ø–æ–ª–µ–∑–Ω—ã—Ö —Å–ø–µ—Ü–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –æ—Ç –Ω–∞–¥–µ–∂–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π.',
                    points: [
                        '–ê–∫—Ü–∏–∏ –∏ —Å–∫–∏–¥–∫–∏ –æ—Ç –ª–∏–¥–µ—Ä–æ–≤ —Ä—ã–Ω–∫–∞',
                        '–¢–µ, –∫—Ç–æ –ø–æ–¥–ø–∏—Å–∞–ª—Å—è ‚Äì —ç–∫–æ–Ω–æ–º—è—Ç –º–Ω–æ–≥–æ –¥–µ–Ω–µ–≥ ü§ë',
                    ],
                    subscribersCount: 92118,
                    image: require('@/assets/images/card3.png'),
                    subscribe: true,
                },
                {
                    title: '–ß–µ–º–æ–¥–∞–Ω –≤–µ–±–∏–Ω–∞—Ä–æ–≤',
                    subtitle: '–ü–æ –º–µ—Ä–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –∞–Ω–æ–Ω—Å–æ–≤',
                    text: '–ü–æ–¥–±–æ—Ä–∫–∞ —Å –∞–Ω–æ–Ω—Å–∞–º–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –≤–µ–±–∏–Ω–∞—Ä–æ–≤ –Ω–∞ —Å–∞–º—ã–µ —Ç–æ–ø–æ–≤—ã–µ —Ç–µ–º—ã –ø—Ä–∏ —É—á–∞—Å—Ç–∏–∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤.',
                    points: [
                        '–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–∏—à–ª–µ–º –ø–ª–∞—Ç–Ω—ã–µ –≤–µ–±–∏–Ω–∞—Ä—ã',
                        '–ü–æ–¥–±–æ—Ä–∫–∞ —Ç–æ–ø–æ–≤—ã—Ö —Ç–µ–º –¥–ª—è –≤–µ–±–∏–Ω–∞—Ä–æ–≤',
                    ],
                    subscribersCount: 92118,
                    image: require('@/assets/images/card4.png'),
                    subscribe: false,
                },
            ],

            socials: [
                {
                    title: '–í–ö–æ–Ω—Ç–∞–∫—Ç–µ',
                    link: 'https://vk.com/',
                    image: require('@/assets/images/socials/vk.svg'),
                },
                {
                    title: '–û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏',
                    link: 'https://ok.ru/',
                    image: require('@/assets/images/socials/odnoklassniki.svg'),
                },
                {
                    title: 'YouTube',
                    link: 'https://www.youtube.com/',
                    image: require('@/assets/images/socials/youtube.svg'),
                },
            ],

            messengers: [
                {
                    title: 'Telegram',
                    link: 'https://web.telegram.org/',
                    image: require('@/assets/images/socials/telegram.svg'),
                },
                {
                    title: 'Whatsapp',
                    link: 'https://web.whatsapp.com/',
                    image: require('@/assets/images/socials/whatsapp.svg'),
                },
                {
                    title: 'Viber',
                    link: 'https://www.viber.com/ru/',
                    image: require('@/assets/images/socials/viber.svg'),
                },
            ],
        };
    },

    methods: {
        handleNavClick(e) {
            this.activeTab = e;
        },

        handleChangeCardSwitch(e) {
            e.subscription.subscribe = e.value;
        },

        handleChangeSubscribeSwitch(e) {
            this.subscribeAll = e;
            if (e) {
                this.mailSubscriptions.forEach((el) => (el.subscribe = true));
            } else {
                this.mailSubscriptions.forEach((el) => (el.subscribe = false));
            }
        },
    },
};
</script>

<style lang="scss" module>
.SubscriptionsPage {
    //
}

.title {
    margin-top: 2.4rem;
    font-weight: 500;
    font-size: 5.6rem;
    line-height: 7.2rem;
    text-align: center;
    letter-spacing: -0.01em;

    @include respond-to(xs) {
        margin-top: 0.8rem;
        font-size: 3.2rem;
        line-height: 4.2rem;
    }
}

.content {
    border-radius: 1.6rem;
    padding: 4.8rem 2.4rem;
    background-color: $base-200;

    @include respond-to(xs) {
        border-radius: 0;
        padding: 3.2rem 1.6rem;
    }
}
</style>
